<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Brainred">
    <link rel="shortcut icon" href="{{ asset('assets/images/favicon_1.ico') }}">
    <title>Marketing Academy | SAP</title>
    <link href="{{ asset('assets/css/report/jquery.circliful.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/report/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/report/core.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/report/components.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/report/icons.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/report/pages.css') }}" rel="stylesheet" type="text/css" />
    <!-- <link href="{{ asset('css/report/responsive.css') }}" rel="stylesheet" type="text/css" /> -->
    <link href="{{ asset('assets/css/report/fonts.css') }}" rel="stylesheet" type="text/css" media="all"/>
    <link href="{{ asset('assets/css/report/main.css') }}" rel="stylesheet" type="text/css" media="all"/>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2201948-49"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-2201948-49');
    </script>

</head>
<body>
    <div class="wrapper report-content">
        <div class="container">
			{% include 'menu_tabs.html.twig' %}

            <div id="content-document">
            <div style="border-bottom: 1px solid #5d9cec; padding-bottom: 10px;" class="m-b-20">
                <h1 class="page-title" style="font-size: 36px; color:#5d9cec; display: inline-block; margin: 0; vertical-align: middle; width: 850px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" >
                {{ reportname }} :  <span style="font-weight: normal; color:#999;"> {{ start }} / {{ end }} </span> </h1>
                <a href="#" download="#" class="btn btn-primary btn-sm" style="background: #5d9cec;vertical-align: middle; margin-left: 10px;float:right; margin-top: 6px;" data-toggle="modal" data-target=".bs-example-modal-lg"> View Report</a>
                <button onclick="generarPDF(event);" class="btn btn-primary btn-sm" id="btn-pdf" style="background: #5d9cec;vertical-align: middle; float:right; margin-top: 6px;"> Download PDF</button>
            </div>
            <h2 class="page-title m-b-20" style="font-size: 28px;">Results of the participants</h2>
            <div class="row">
                <div class="col-sm-4">
                    <div class="card-box">
                        <h4 class="m-t-0 header-title m-b-20"><b>Participants</b></h4>
                        <ul class="list-inline chart-detail-list text-center" style="margin: 0 -10px;">
                            <li>
                                <h5 class="text-muted m-b-0">
                                    <i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Registered
                                    <p style="color:#000; display:inline-block">{{ participantscat('Registered',cat,idioma,start,end) }}</p>
                                </h5>
                            </li>
                            <li>
                                <h5 class="text-muted m-b-0">
                                    <i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Asistants
                                    <p style="color:#000; display:inline-block">{{ participantscat('Asistants',cat,idioma,start,end) }}</p>
                                </h5>
                            </li>
                            <li>
                                <h5 class="text-muted m-b-0">
                                    <i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Partners
                                    <p style="color:#000; display:inline-block">{{ participantscat('Partners',cat,idioma,start,end) }}</p>
                                </h5>
                            </li>
                        </ul>
                        {% set total1 = participantscat('Registered',cat,idioma,start,end) %}
                        {% set percent1 = participantscat('Asistants',cat,idioma,start,end) %}
                        <div style="margin:0 auto;" class="one-participantes" data-dimension="250"
                        data-text="{% if percent1 != 0 and total1 != 0 %}{{ (percent1*100/total1) | round}}{% else %}0.00{% endif %}%"
                        data-info="Asistentes"
                        data-width="20"
                        data-fontsize="24"
                        data-percent="{% if percent1 != 0 and total1 != 0 %}{{ (percent1*100/total1) | round}}{% else %}0.00{% endif %}"
                        data-fgcolor="#FCB712"
                        data-bgcolor="#ebeff2"></div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="card-box">
                        <h4 class="m-t-0 header-title m-b-20"><b>Line of Business</b></h4>
                        <ul class="list-inline chart-detail-list text-center">
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>Consulting</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Software</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Tecnology</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Others</h5>
                            </li>

                        </ul>
                        <canvas id="one-industria" height="250"></canvas>
                    </div>
                </div>
                {% if idioma == 'es'%}
                <div class="col-sm-4">
                    <div class="card-box">
                        <h4 class="m-t-0 header-title m-b-20"><b>Regions</b></h4>
                        <ul class="list-inline chart-detail-list text-center">
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>México</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>Sur</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Norte</h5>
                            </li>
                            <li>
                                <h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Others</h5>
                            </li>
                        </ul>
                        <canvas id="one-regions" height="250"></canvas>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="card-box">
                        <h4 class="m-t-0 header-title m-b-20"><b>Countries</b></h4>
                        <canvas id="countries" height="350"></canvas>
                    </div>
                </div>
                {% else %}
                <div class="col-sm-4">
                        <div class="card-box">
                            <h4 class="m-t-0 header-title m-b-20"><b>Countries</b></h4>
                            <canvas id="countries" height="332"></canvas>
                        </div>
                    </div>
                {% endif %}
            </div>
            <!--<div class="row">
                <div class="col-lg-12">
                    <div class="card-box">
                        <h4 class="m-t-0 header-title m-b-20"><b>Countries</b></h4>
                        <canvas id="countries" height="350"></canvas>
                    </div>
                </div>
            </div>-->
            <h1 class="page-title m-b-20" style="font-size: 28px;">Results of surveys</h1>
                    <div class="row">
                        <!-- //PREGUNTA 1 //  ¿En qué área trabaja? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿En qué área trabaja?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Marketing</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>Ventas</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Consultoría</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Gerente General</h5>
                                    </li>
                                </ul>
                                <canvas id="area" height="250"></canvas>
                            </div>
                        </div>

                        <!-- //PREGUNTA 2 //  ¿Desea ser invitado al Jam Group SAP Partner Marketing University? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿Desea ser invitado al Jam Group SAP Partner Marketing University?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Yes</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>No</h5>
                                    </li>
                                </ul>
                                <canvas id="invite" height="250"></canvas>
                            </div>
                        </div>

                        <!-- //PREGUNTA 3 //  ¿Conoce el programa de entrenamientos del año? -->

                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b> ¿Conoce el programa de entrenamientos del año?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Yes</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>No</h5>
                                    </li>
                                </ul>
                                <canvas id="training" height="250"></canvas>
                            </div>
                        </div>

                        <!-- //PREGUNTA 4 //  ¿Cree que este entrenamiento será de utilidad para su trabajo? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿Cree que este entrenamiento será de utilidad para su trabajo?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Yes</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>No</h5>
                                    </li>
                                </ul>
                                <canvas id="util" height="250"></canvas>
                            </div>
                        </div>
                        <!-- //PREGUNTA 5 // ¿Cómo califica el entrenamiento? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿Cómo califica el entrenamiento?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;"><h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Excelent</h5></li>
                                    <li style="margin: 0 5px;"><h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>Good</h5></li>
                                    <li style="margin: 0 5px;"><h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Very Good</h5></li>
                                    <li style="margin: 0 5px;"><h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Regular</h5></li>
                                </ul>
                                <canvas id="calification" height="250"></canvas>
                            </div>
                        </div>
                        <!-- //PREGUNTA 6 // ¿Cuál es su categoría de partner? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿Cuál es su categoría de partner?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>Other</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>Distributor</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>Sell(F. VAR)</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>Empleado</h5>
                                    </li>
                                </ul>
                                <canvas id="partner" height="250"></canvas>
                            </div>
                        </div>
                        <!-- //PREGUNTA 7 // ¿En qué rango está su SSI? -->
                        <div class="col-sm-6">
                            <div class="card-box text-center">
                                <h4 class="m-t-0 m-b-20 text-left" style="font-size: 16px;"><b>¿En qué rango está su SSI?</b></h4>
                                <ul class="list-inline chart-detail-list text-center">
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #FCB712"></i>41-50</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5d9cec"></i>51-60</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #5fbeaa"></i>61-70</h5>
                                    </li>
                                    <li style="margin: 0 5px;">
                                        <h5><i class="fa fa-circle m-r-5" style="color: #ebeff2"></i>31-40</h5>
                                    </li>
                                </ul>
                                <canvas id="rangossi" height="250"></canvas>
                            </div>
                        </div>

                    </div>
            </div>

        </div>
    </div>
    <!--  Modal content for the above example -->
    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myLargeModalLabel">Report</h4>
                </div>
                <div class="modal-body">
				 <div class="table-responsive" style="overflow:hidden">
                    <table id="table3" class="table table-striped table-hover responsive no-wrap " data-page-length='50' style="width:100%">
                    <thead>
                                 <tr>
			                      	<th>Nombre(s)</th>
							        <th>Apellido</th>
							        <th>Email</th>
							        <th>Relacion con SAP</th>
							        <th>Empresa</th>
							        <th>Industria</th>
							        <th>Cargo</th>
							        <th>Telef.Empresa</th>
							        <th>Ciudad</th>
							        <th>País</th>
							        <th>¿En qué área trabaja?</th>
							        <th>¿Desea ser invitado al Jam Group SAP Partner Marketing University?</th>
							        <th>¿Conoce el programa de entrenamientos del año?</th>
							        <th>¿Cree que este entrenamiento será de utilidad para su trabajo?</th>
							        <th>¿Cómo califica el entrenamiento?</th>
							        <th>¿Cuál es su categoría de partner?</th>
							        <th>¿En qué rango está su SSI?</th>
							        <th>Pregunta7</th>
			                    </tr>
                              </thead>
                              <tbody>
                                {% for item in report %}

                                    {% if idioma == 'es' %}
                                        <tr class="odd ">
                                            <td>{{ item.Nombre}}</td>
                                            <td>{{ item.Apellido}}</td>
                                            <td>{{ item.Email}}</td>
                                            <td>{{ item.Relacionconsap}}</td>
                                            <td>{{ item.Empresa}}</td>
                                            <td>{{ item.Industria}}</td>
                                            <td>{{ item.Cargo}}</td>
                                            <td>{{ item.Telefonodelaempresa}}</td>
                                            <td>{{ item.Ciudad}}</td>
                                            <td>{{ item.Pais}}</td>
                                            <td>{{ item.Attendedlive}}</td>
                                            <td>{{ item.Pregunta1}}</td>
                                            <td>{{ item.Pregunta2}}</td>
                                            <td>{{ item.Pregunta3}}</td>
                                            <td>{{ item.Pregunta4}}</td>
                                            <td>{{ item.Pregunta5}}</td>
                                            <td>{{ item.Pregunta6}}</td>
                                            <td>{{ item.Pregunta7}}</td>
                                        </tr>
                                    {% else %}
                                        <!-- {{idioma}} -->
                                         <tr class="odd ">
                                            <td>{{ item.Nome }}</td>
                                            <td>{{ item.Sobrenome }}</td>
                                            <td>{{ item.Email }}</td>
                                            <td>{{ item.Relaccedilaocomasap }}</td>
                                            <td>{{ item.Empresa }}</td>
                                            <td>{{ item.Industria }}</td>
                                            <td>{{ item.Cargo }}</td>
                                            <td>{{ item.Telefone }}</td>
                                            <td>{{ item.Cidade }}</td>
                                            <td>{{ item.Pais }}</td>
                                            <td>{{ item.Attendedlive }}</td>
                                            <td>{{ item.Pregunta1 }}</td>
                                            <td>{{ item.Pregunta2 }}</td>
                                            <td>{{ item.Pregunta3 }}</td>
                                            <td>{{ item.Pregunta4 }}</td>
                                            <td>{{ item.Pregunta5 }}</td>
                                            <td>{{ item.Pregunta6 }}</td>
                                            <td>{{ item.Pregunta7 }}</td>
                                        </tr>
                                    {% endif %}
                                    
                                   
                                {% endfor %}
                               

                               </tbody>
                    </table>
                </div>
				</div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <script src="{{ asset('assets/js/modernizr.min.js') }}"></script>
    <script src="{{ asset('assets/js/jquery.min.js') }}"></script>
    <script src="{{ asset('assets/js/jspdf.min.js') }}"></script>
    <script src="{{ asset('assets/js/html2canvas.js') }}"></script>
    <script src="{{ asset('assets/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('assets/js/Chart.js') }}"></script>
    <script src="{{ asset('assets/js/jquery.circliful.min.js') }}"></script>

    <script src="{{ asset('assets/js/jquery.dataTables.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/dataTables.responsive.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/dataTables.bootstrap4.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/dataTables.buttons.min.js') }}"></script>
    <script src="{{ asset('assets/js/jszip.min.js') }}"></script>
    <script src="{{ asset('assets/js/pdfmake.min.js') }}"></script>
    <script src="{{ asset('assets/js/vfs_fonts.js') }}"></script>
    <script src="{{ asset('assets/js/buttons.html5.min.js') }}"></script>
    <script src="{{ asset('assets/js/buttons.print.min.js') }}"></script>
    <script src="{{ asset('assets/js/buttons.colVis.min.js') }}"></script>
    <script>
        
        //Enable toolbar button functions
        $("#table3").dataTable({
            "responsive": true,
            "columnDefs": [
                { responsivePriority: 1, targets: 0 },
                { responsivePriority: 2, targets: -1 }
            ],

            buttons: [
                {extend: 'excel', className: 'btn-secondary'},
                {extend: 'copy', className: 'btn-secondary'},
                {extend: 'pdf', className: 'btn-secondary'},
                {extend: 'print', className: 'btn-secondary'}
            ],
           "lengthMenu": [[ 10, 50, -1], [ 10, 50, "All"]],
            // posiciÃ³n de filtrado
            //dom: 'Bfrtip',
            //"sDom": 'lftip',
            dom:    "<'row mai-datatable-header'<'col-sm-6'B><'col-sm-6 text-right'f>>" +
                "<'row mai-datatable-body'<'col-sm-12'tr>>" +
                "<'row mai-datatable-footer'<'col-sm-5'i><'col-sm-7 text-right'p>>"
        });


        var element = document.getElementById('content-document');

        function generarPDF(event){
            event.preventDefault();
            console.log('Init! ');
            html2canvas(element, {
                onrendered: function(canvas){
                    //$('#previewImage').append(canvas);
                    //getCanvas = canvas
                    var imgData = canvas.toDataURL('img/png');
                    var doc = new jsPDF('p', 'pt', 'a4', false);
                    doc.addImage(imgData, 'PNG', 100, 25, 400, 800);
                    doc.save('resumen.pdf');
                }
            });
        }

        $(document).ready(function(){
            $('.one-participantes').circliful();

			{% if idioma == 'es' %}
					$('ul.nav-tabs li:nth-child(1)').addClass("active");
					$('div.tab-content div:nth-child(1)').addClass("active");
				{% else %}
					$('ul.nav-tabs li:nth-child(2)').addClass("active");
					$('div.tab-content div:nth-child(2)').addClass("active");
				{% endif%}

        });

        {% set others =  participantscat('Others',cat,idioma,start,end) %}
        {% set sotfware = participantscat('Software',cat,idioma,start,end) %}
        {% set technology = participantscat('Technology',cat,idioma,start,end) %}
        {% set consulting = participantscat('Consulting',cat,idioma,start,end) %}

        var pieData = [
        {
            value: {% if others != 0  and percent1 != 0 %}{{ (others *  100 / percent1)|round }}{% else %}0{% endif %},
            label: 'Others',
            color: '#ebeff2'
        },
        {
            value: {% if sotfware != 0  and percent1 != 0 %}{{ (sotfware * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'Software',
            color: '#5fbeaa'
        },
        {
            value: {% if technology != 0  and percent1 != 0 %}{{ (technology * 100/percent1)|round}}{% else %}0{% endif %},
            label: 'Technology',
            color: '#FCB712'
        },
        {
            value: {% if consulting != 0  and percent1 != 0 %}{{ (consulting * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'Consulting',
            color: '#5d9cec'
        }
        ];

        var options = {
            tooltipTemplate: "<"+"%= value %"+">"+"%",
            onAnimationComplete: function(){
                this.showTooltip(this.segments, true);
            },
            tooltipEvents: [],
            showTooltips: true

        }
        var context = document.getElementById('one-industria').getContext('2d');
        var skillsChart = new Chart(context).Pie(pieData,options);

        {% if idioma == 'es' %}

        {% set norte =  reportexregioncat('Norte',cat,idioma,start,end) %}
        {% set sur = reportexregioncat('Sur',cat,idioma,start,end) %}
        {% set mexico = reportexregioncat('Mexico',cat,idioma,start,end) %}
        {% set others = reportexregioncat('Others',cat,idioma,start,end) %}

        var pieDatar = [
        {
            value: {% if norte != 0  and percent1 != 0 %}{{ (norte * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'Norte',
            color: '#5fbeaa'
        },
        {
            value:  {% if sur != 0  and percent1 != 0 %}{{ (sur * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'Sur',
            color: '#5d9cec'
        },
        {
            value: {% if mexico != 0  and percent1 != 0 %}{{ (mexico * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'México',
            color: '#fcb712'
        },
        {
            value: {% if others != 0  and percent1 != 0 %}{{ (others * 100/percent1)|round }}{% else %}0{% endif %},
            label: 'Others',
            color: '#ebeff2'
        }
        ];

        var options = {
            tooltipTemplate: "<"+"%= value %"+">"+"%",
            onAnimationComplete: function(){
                this.showTooltip(this.segments, true);
            },
            tooltipEvents: [],
            showTooltips: true

        }
        var context = document.getElementById('one-regions').getContext('2d');
        var skillsChart = new Chart(context).Pie(pieDatar, options);



        {% set mexico = reportexpaiscat('Mexico',cat,idioma,start,end) %}
        {% set Guatemala = reportexpaiscat('Guatemala',cat,idioma,start,end) %}
        {% set Bolivia = reportexpaiscat('Bolivia',cat,idioma,start,end) %}
        {% set Chile = reportexpaiscat('Chile',cat,idioma,start,end) %}
        {% set Colombia = reportexpaiscat('Colombia',cat,idioma,start,end) %}
        {% set Venezuela = reportexpaiscat('Venezuela',cat,idioma,start,end) %}
        {% set Argentina = reportexpaiscat('Argentina',cat,idioma,start,end) %}
        {% set Peru = reportexpaiscat('Peru',cat,idioma,start,end) %}
        {% set CostaRica = reportexpaiscat('Costa Rica',cat,idioma,start,end) %}
        {% set Panama = reportexpaiscat('Panama',cat,idioma,start,end) %}
        {% set Honduras = reportexpaiscat('Honduras',cat,idioma,start,end) %}
        {% set ElSalvador = reportexpaiscat('El Salvador',cat,idioma,start,end) %}
        {% set Brasil = reportexpaiscat('Brasil',cat,idioma,start,end) %}
        {% set Ecuador = reportexpaiscat('Ecuador',cat,idioma,start,end) %}

        var LineChart = {
        labels : ["México","Guatemala","Bolivia","Chile","Colombia","Venezuela","Argentina","Perú","Costa Rica","Panamá","Honduras","El Salvador","Brasil","Ecuador"],
        datasets : [
            {
            fillColor : "rgba(93, 156, 236, 0.5)",
            strokeColor : "rgba(93, 156, 236, 1)",
            pointColor : "rgba(93, 156, 236, 1)",
            pointStrokeColor : "#fff",
            data: [{% if mexico != 0  and percent1 != 0 %}{{ ( mexico * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Guatemala != 0  and percent1 != 0 %}{{ ( Guatemala * 100 / percent1)|round}}{% else %}0{% endif %},
                   {% if Bolivia != 0  and percent1 != 0 %}{{ ( Bolivia * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Chile != 0  and percent1 != 0 %}{{ ( Chile * 100 / percent1)|round}}{% else %}0{% endif %},
                   {% if Colombia != 0  and percent1 != 0 %}{{ ( Colombia * 100 / percent1)|round}}{% else %}0{% endif %},
                   {% if Venezuela != 0  and percent1 != 0 %}{{ ( Venezuela * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Argentina != 0  and percent1 != 0 %}{{ ( Argentina * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Peru != 0  and percent1 != 0 %}{{ ( Peru * 100 / percent1)|round}}{% else %}0{% endif %},
                   {% if CostaRica != 0 and percent1 != 0 %}{{ ( CostaRica * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Panama != 0 and percent1 != 0 %}{{ ( Panama * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Honduras != 0 and percent1 != 0 %}{{ ( Honduras * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if ElSalvador != 0 and percent1 != 0 %}{{ ( ElSalvador * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Brasil != 0 and percent1 != 0 %}{{ ( Brasil * 100 / percent1)|round }}{% else %}0{% endif %},
                   {% if Ecuador != 0 and percent1 != 0 %}{{ ( Ecuador * 100 / percent1)|round }}{% else %}0{% endif %} ]
            }
        ],
        pieceLabel: {
            mode: 'percentage',
            precision: 2
        }
        };



        var canvas = $('#countries');
        var container = $(canvas).parent();
        function contentChart(){
            $(canvas).attr('width', $(container).width())
        }
        contentChart();
        $(window).resize(contentChart);

        var context = document.getElementById('countries').getContext('2d');
        var skillsChart = new Chart(context).Bar(LineChart, {
            showTooltips: false,
            scaleSteps: 5,
            scaleStepWidth: 50,
            scaleStartValue: 0,
            onAnimationComplete: function(){
                var ctx = this.chart.ctx;
                ctx.font = this.scale.font;
                ctx.fillStyle = this.scale.textColor;
                ctx.textAlign = "center";
                ctx.textBaseline = "bottom";

                this.datasets.forEach(function(dataset){
                    dataset.bars.forEach(function(bar){
                        ctx.fillText(bar.value+'%', bar.x, bar.y);
                    });
                })
            },

        });

        {% else %}

        // BRAZIL & USA - CHART PARA PORTUGUES
                var LineChart = {
                labels : ["Brazil", "United States"],
                datasets : [
                    {
                    fillColor : "rgba(93, 156, 236, 0.5)",
                    strokeColor : "rgba(93, 156, 236, 1)",
                    pointColor : "rgba(93, 156, 236, 1)",
                    pointStrokeColor : "#fff",
                    data: [100,0]
                    }
                ],
                pieceLabel: {
                    mode: 'percentage',
                    precision: 2
                }
                };

                var canvas = $('#countries');
                var container = $(canvas).parent();
                function contentChart(){
                    $(canvas).attr('width', $(container).width())
                }
                contentChart();
                $(window).resize(contentChart);
                console.log(parent);

                var context = document.getElementById('countries').getContext('2d');
                var skillsChart = new Chart(context).Bar(LineChart, {
                    showTooltips: false,
                    scaleSteps: 5,
                    scaleStepWidth: 50,
                    scaleStartValue: 0,
                    onAnimationComplete: function(){
                        var ctx = this.chart.ctx;
                        ctx.font = this.scale.font;
                        ctx.fillStyle = this.scale.textColor;
                        ctx.textAlign = "center";
                        ctx.textBaseline = "bottom";

                        this.datasets.forEach(function(dataset){
                            dataset.bars.forEach(function(bar){
                                ctx.fillText(bar.value+'%', bar.x, bar.y);
                            });
                        })
                    },

                });
            {% endif %}
         
        {% set marketing = reportepreguntas('cat','pregunta1', 'Marketing', cat, idioma, start, end) %}
        {% set ventas = reportepreguntas('cat','pregunta1', 'Ventas', cat,idioma,start,end) %}
        {% set consultoria = reportepreguntas('cat','pregunta1', 'Consultoría', cat,idioma,start,end) %}
        {% set gerentegeneral = reportepreguntas('cat','pregunta1', 'Gerente%General', cat,idioma,start,end) %}

        // pregunta 1
            var pieData = [
            {
                value: {% if marketing != 0 and percent1 != 0 %} {{ (marketing * 100 / percent1 ) | round}} {% else %} 0 {% endif %},
                label: 'Marketing',
                color: '#FCB712'
            },
            {
                value: {% if ventas != 0 and percent1 != 0 %} {{ (ventas * 100 / percent1 ) | round}} {% else %} 0 {% endif %},
                label: 'Ventas',
                color: '#5d9cec'
            },
            {
                value: {% if consultoria != 0 and percent1 != 0 %} {{ ( consultoria * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Consultoría',
                color: '#5fbeaa'
            },
            {
                value: {% if gerentegeneral != 0 and percent1 != 0 %} {{ ( gerentegeneral * 100 / percent1 ) | round}} {% else %} 0 {% endif %},
                label: 'Gerente General',
                color: '#ebeff2'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true

            };

            {% if marketing != 0 and ventas != 0 and consultoria != 0 and gerentegeneral != 0 %}
                var context = document.getElementById('area').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData, options);
            {% else %}
                $("#area").parent().parent().css('display','none'); 
            {% endif %}

            {% set sip2 = reportepreguntas('cat','pregunta2', 'Si', cat,idioma,start,end) %}
            {% set nop2 = reportepreguntas('cat','pregunta2', 'No',  cat,idioma,start,end) %}
            // pregunta 2
            var pieData = [
           {
                value: {% if sip2 != 0 and percent1 !=0 %} {{ ( sip2 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Sí',
                color: '#FCB712'
            },
            {
                value: {% if nop2 != 0 and percent1 !=0 %} {{ ( nop2 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'No',
                color: '#5d9cec'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true
            };
            
            {% if sip2 != 0 and nop2 != 0 %}
                var context = document.getElementById('invite').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData, options);
            {% else %}
                $("#invite").parent().parent().css('display','none');
            {% endif %}

            {% set sip3 = reportepreguntas('cat','pregunta3', 'Si', cat,idioma,start,end) %}
            {% set nop3 = reportepreguntas('cat','pregunta3', 'No',  cat,idioma,start,end) %}
            // pregunta 3
            var pieData = [
            {
                value: {% if sip3 != 0 and percent1 !=0 %} {{ ( sip3 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Sí',
                color: '#FCB712'
            },
            {
                value: {% if nop3 != 0 and percent1 !=0 %} {{ ( nop3 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'No',
                color: '#5d9cec'
            }
            ];
            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true
            };

            {% if sip3 != 0 and nop3 != 0 %}
            var context = document.getElementById('training').getContext('2d');
            var skillsChart = new Chart(context).Pie(pieData, options);
            {% else %}
                $("#training").parent().parent().css('display','none');
            {% endif %}

            {% set sip4 = reportepreguntas('cat','pregunta4', 'Si',cat, idioma, start, end) %}
            {% set nop4 = reportepreguntas('cat','pregunta4', 'No', cat, idioma, start, end) %}
            // pregunta 4
            var pieData = [
            {
                value: {% if sip4 != 0 and percent1 !=0 %} {{ ( sip4 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Sí',
                color: '#FCB712'
            },
            {
                value: {% if nop4 != 0 and percent1 !=0 %} {{ ( nop4 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'No',
                color: '#5d9cec'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true
            }

            {% if sip4 != 0 and nop4 != 0 %}
                var context = document.getElementById('util').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData,options);
            {% else %}
                $("#util").parent().parent().css('display','none');
            {% endif %}

            {% set regular = reportepreguntas('cat','pregunta5', 'Regular', cat, idioma, start, end) %}
            {% set muybueno = reportepreguntas('cat','pregunta5', 'Muy%Bueno', cat, idioma, start, end) %}
            {% set bueno = reportepreguntas('cat','pregunta5', 'Bueno', cat, idioma, start, end) %}
            {% set excelente = reportepreguntas('cat','pregunta5', 'Excelente', cat, idioma, start, end) %}
            // pregunta 5
            var pieData = [
            {
                value: {% if regular != 0 and percent1 !=0 %} {{ ( regular * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Regular',
                color: '#ebeff2'
            },
            {
                value: {% if muybueno != 0 and percent1 !=0 %} {{ ( muybueno * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Muy Bueno',
                color: '#5fbeaa'
            },
            {
                value: {% if bueno != 0 and percent1 !=0 %} {{ ( bueno * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Bueno',
                color: '#5d9cec'
            },
            {
                value: {% if excelente != 0 and percent1 !=0 %} {{ ( excelente * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Excelente',
                color: '#FCB712'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true

            };

            {% if regular != 0 and muybueno != 0 and muybueno != 0 and bueno != 0 and excelente != 0 %}
                var context = document.getElementById('calification').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData,options);
            {% else %}
                $("#calification").parent().parent().css('display','none');
            {% endif %}


            {% set otro = reportepreguntas('cat','pregunta6', "Otro','Other','AppDev Partner','Hybris Partner','ISV','OEM','Open Ecosystem (Formally AR)','PMC Partner", cat, idioma, start, end) %}

            {% set distributor = reportepreguntas('cat','pregunta6', 'Distributor', cat, idioma, start, end) %}
            {% set sell = reportepreguntas('cat','pregunta6', 'Sell (Formally VAR)', cat, idioma, start, end) %}
            {% set employed = reportepreguntas('cat','pregunta6', 'Empleado de SAP', cat, idioma, start, end) %}
            //pregunta 6
            var pieData = [
            {
                value: {% if otro != 0 and percent1 !=0 %} {{ ( otro * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Otro',
                color: '#FCB712'
            },
            {
                value: {% if distributor != 0 and percent1 !=0 %} {{ ( distributor * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Distributor',
                color: '#5d9cec'
            },
            {
                value: {% if sell != 0 and percent1 !=0 %} {{ ( sell * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Sell(F. VAR)',
                color: '#5fbeaa'
            },
            {
                value: {% if employed != 0 and percent1 !=0 %} {{ ( employed * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Empleado SAP',
                color: '#ebeff2'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true
            };

            {% if otro != 0 and distributor != 0 and sell != 0 and employed != 0%}
                var context = document.getElementById('partner').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData, options);
            {% else %}
                $("#partner").parent().parent().css('display','none');
            {% endif %}

            {% set a4150 = reportepreguntas('cat','pregunta7', "41-50", cat, idioma, start, end) %}
            {% set a5160 = reportepreguntas('cat','pregunta7', "51-60", cat, idioma, start, end) %}
            {% set a6170 = reportepreguntas('cat','pregunta7', "61-70", cat, idioma, start, end) %}
            {% set a3140 = reportepreguntas('cat','pregunta7', "0-10','11-20','21-30','31-40','71-80','81-90','91-100') AND pregunta7 NOT IN ('41-50','51-60','61-70", cat, idioma, 'default', 'default') %}

            //pregunta 7
            var pieData = [
           {
                value: {% if a4150 != 0 and percent1 !=0 %} {{ ( a4150 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: '41-50',
                color: '#FCB712'
            },
            {
                value: {% if a5160 != 0 and percent1 !=0 %} {{ ( a5160 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: '51-60',
                color: '#5d9cec'
            },
            {
                value: {% if a6170 != 0 and percent1 !=0 %} {{ ( a6170 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: '61-70',
                color: '#5fbeaa'
            },
            {
                value: {% if a3140 != 0 and percent1 !=0 %} {{ ( a3140 * 100 / percent1 ) | round }} {% else %} 0 {% endif %},
                label: 'Others',
                color: '#ebeff2'
            }
            ];

            var options = {
                tooltipTemplate: "<"+"%= value %"+">"+"%",
                onAnimationComplete: function(){
                    this.showTooltip(this.segments, true);
                },
                tooltipEvents: [],
                showTooltips: true
            };

            {% if a4150 != 0 and a5160 != 0 and a6170 != 0 and a3140 != 0 %}
                var context = document.getElementById('rangossi').getContext('2d');
                var skillsChart = new Chart(context).Pie(pieData, options);
            {% else %}
                $("#rangossi").parent().parent().css('display','none');
            {% endif %}
</script>
</body>
</html>